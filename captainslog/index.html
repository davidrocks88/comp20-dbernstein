<!DOCTYPE html>

<html>

<head>
        <title>Captain's Log</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script>
        
        var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        var days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];


        function reload() {
                console.log("in reload");
                elem = $("#log");
                output = "";
                for (key in localStorage) {
                        output = output + "<p>" + key + "      " + localStorage[key] + "</p>\n";
                }
                console.log(output);
                elem.html(output);
        }

        $(document).ready(function() {
                elem = document.getElementById("log");
                output = "";

                for (key in localStorage) {
                        output = output + "<p>" + key + "      " + localStorage[key] + "</p>\n";
                }
                elem.innerHTML = output;
        });
        $(function() {
                $('#msg').change(function() {
                localStorage[new Date()] = this.value;
                reload();
                });
        });


</script>
</head>

<body>
        <h1>Captain's Log</h1>
        <h3>New entry: <input type="text" id="msg" name="msg" size="30" /></h3>
        <div id="log"></div>
</body>
</html>
